/**
 * jQuery.query - Query String Modification and Creation for jQuery
 * Written by Blair Mitchelmore (blair DOT mitchelmore AT gmail DOT com)
 * Licensed under the WTFPL (http://sam.zoy.org/wtfpl/).
 * Date: 2009/8/13
 *
 * @author Blair Mitchelmore
 * @version 2.2.3
 *
 **/
new function(a){var b=a.separator||"&",c=!1!==a.spaces,e=(a.suffix,!1!==a.prefix),f=e?!0===a.hash?"#":"?":"",g=!1!==a.numbers;jQuery.query=new function(){var a=function(a,b){return void 0!=a&&null!==a&&(!b||a.constructor==b)},d=function(a){for(var b,c=/\[([^[]*)\]/g,d=/^([^[]+)(\[.*\])?$/.exec(a),e=d[1],f=[];b=c.exec(d[2]);)f.push(b[1]);return[e,f]},e=function(b,c,d){var g=c.shift();if("object"!=typeof b&&(b=null),""===g)if(b||(b=[]),a(b,Array))b.push(0==c.length?d:e(null,c.slice(0),d));else if(a(b,Object)){for(var h=0;null!=b[h++];);b[--h]=0==c.length?d:e(b[h],c.slice(0),d)}else b=[],b.push(0==c.length?d:e(null,c.slice(0),d));else if(g&&g.match(/^\s*[0-9]+\s*$/)){var i=parseInt(g,10);b||(b=[]),b[i]=0==c.length?d:e(b[i],c.slice(0),d)}else{if(!g)return d;var i=g.replace(/^\s*|\s*$/g,"");if(b||(b={}),a(b,Array)){for(var j={},h=0;h<b.length;++h)j[h]=b[h];b=j}b[i]=0==c.length?d:e(b[i],c.slice(0),d)}return b},h=function(a){var b=this;return b.keys={},a.queryObject?jQuery.each(a.get(),function(a,c){b.SET(a,c)}):b.parseNew.apply(b,arguments),b};return h.prototype={queryObject:!0,parseNew:function(){var a=this;return a.keys={},jQuery.each(arguments,function(){var b=""+this;b=b.replace(/^[?#]/,""),b=b.replace(/[;&]$/,""),c&&(b=b.replace(/[+]/g," ")),jQuery.each(b.split(/[&;]/),function(){var b=decodeURIComponent(this.split("=")[0]||""),c=decodeURIComponent(this.split("=")[1]||"");b&&(g&&(/^[+-]?[0-9]+\.[0-9]*$/.test(c)?c=parseFloat(c):/^[+-]?[1-9][0-9]*$/.test(c)&&(c=parseInt(c,10))),c=!c&&0!==c||c,a.SET(b,c))})}),a},has:function(b,c){var d=this.get(b);return a(d,c)},GET:function(b){if(!a(b))return this.keys;for(var c=d(b),e=c[0],f=c[1],g=this.keys[e];null!=g&&0!=f.length;)g=g[f.shift()];return"number"==typeof g?g:g||""},get:function(b){var c=this.GET(b);return a(c,Object)?jQuery.extend(!0,{},c):a(c,Array)?c.slice(0):c},SET:function(b,c){var f=a(c)?c:null,g=d(b),h=g[0],i=g[1],j=this.keys[h];return this.keys[h]=e(j,i.slice(0),f),this},set:function(a,b){return this.copy().SET(a,b)},REMOVE:function(b,c){if(c){var d=this.GET(b);if(a(d,Array)){for(tval in d)d[tval]=d[tval].toString();var e=$.inArray(c,d);if(!(e>=0))return;b=d.splice(e,1),b=b[e]}else if(c!=d)return}return this.SET(b,null).COMPACT()},remove:function(a,b){return this.copy().REMOVE(a,b)},EMPTY:function(){var a=this;return jQuery.each(a.keys,function(b,c){delete a.keys[b]}),a},load:function(a){var b=a.replace(/^.*?[#](.+?)(?:\?.+)?$/,"$1"),c=a.replace(/^.*?[?](.+?)(?:#.+)?$/,"$1");return new h(a.length==c.length?"":c,a.length==b.length?"":b)},empty:function(){return this.copy().EMPTY()},copy:function(){return new h(this)},COMPACT:function(){function b(c){function e(b,c,d){a(b,Array)?b.push(d):b[c]=d}var d="object"==typeof c?a(c,Array)?[]:{}:c;return"object"==typeof c&&jQuery.each(c,function(c,f){if(!a(f))return!0;e(d,c,b(f))}),d}return this.keys=b(this.keys),this},compact:function(){return this.copy().COMPACT()},toString:function(){var e=[],g=[],i=function(a){return a+="",a=encodeURIComponent(a),c&&(a=a.replace(/%20/g,"+")),a},j=function(b,c,d){if(a(d)&&!1!==d){var e=[i(c)];!0!==d&&(e.push("="),e.push(i(d))),b.push(e.join(""))}},k=function(a,b){var c=function(a){return b&&""!=b?[b,"[",a,"]"].join(""):[a].join("")};jQuery.each(a,function(a,b){"object"==typeof b?k(b,c(a)):j(g,c(a),b)})};return k(this.keys),g.length>0&&e.push(f),e.push(g.join(b)),e.join("")}},new h(location.search,location.hash)}}(jQuery.query||{});